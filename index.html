<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link 
    href="https://fonts.googleapis.com/css2?family=Changa+One:ital@0;1&display=swap" 
    rel="stylesheet">

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empire Attack - Tower Defense</title>
    <style>
        body {
            background-color: black;
            font-family: 'Changa One', cursive;
            margin: 0;
            padding: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh
        }

        #gameContainer {
            position: relative;
            width: 1280px;
            height: 768px;
            max-width: 100vw;
            max-height: 100vh;
        }
        
        canvas {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        @media (max-aspect-ratio: 1280/768) {
            #gameContainer {
                width: 100vw;
                height: calc(100vw * 768 / 1280);
            }
        }

         @media (min-aspect-ratio: 1280/768) {
            #gameContainer {
                width: calc(100vh * 1280 / 768);
                height: 100vh;
            }
        }    

    </style>
</head>
<body>
    <div id="gameContainer">
    <canvas></canvas>
    <div 
    id="gameOver"
    style="
        position: absolute; 
        top: 0; 
        bottom: 0; 
        left: 0; 
        right: 0; 
        display: none; 
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-size: 5.6vmin;
        color: white;
        -webkit-text-stroke: 0.23vmin black;
    "
>
    GAME OVER
    <button 
        id="tryAgainLose"
        style="
            font-family: 'Changa One', cursive;
            font-size: 2.8vmin;
            padding: 1.5vmin 4.6vmin;
            margin-top: 2.3vmin;
            background: linear-gradient(to bottom, #f44336, #c62828);
            color: white;
            border: 0.3vmin solid white;
            border-radius: 0.78vmin;
            cursor: pointer;
            -webkit-text-stroke: 0.08vmin black;
        "
    >
        TRY AGAIN
    </button>
</div>
        <div 
        style="
        position: absolute; 
        top:0; 
        right: 0; 
        width: 400px; 
        height: 80px; 
        background: linear-gradient(
            to left bottom, 
        rgba(0, 0, 0, .9), 
        rgba(0,0,0,0),
        rgba(0,0,0,0)
        );
        "
        ></div>
        <div 
    id="startScreen"
    style="
        position: absolute; 
        top: 0; 
        bottom: 0; 
        left: 0; 
        right: 0; 
        display: flex; 
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.8);
        color: white;
    "
>
    <h1 style="
        font-size: 5.6vmin;
        margin-bottom: 1.5vmin;
        -webkit-text-stroke: 0.23vmin black;
    ">
        Empire Attacks
    </h1>
    <h2 style="
        font-size: 3.75vmin;
        margin-bottom: 3.1vmin;
        -webkit-text-stroke: 0.15vmin black;
    ">
        Tower Defense
    </h2>
    <button 
        id="startButton"
        style="
            font-family: 'Changa One', cursive;
            font-size: 2.8vmin;
            padding: 1.5vmin 4.6vmin;
            background: linear-gradient(to bottom, #4CAF50, #2E7D32);
            color: white;
            border: 0.3vmin solid white;
            border-radius: 0.78vmin;
            cursor: pointer;
            -webkit-text-stroke: 0.08vmin black;
        "
    >
        START GAME
    </button>
</div>
<div 
    id="waveDisplay"
    style="
        position: absolute; 
        top: 50%; 
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 7.5vmin;
        color: white;
        -webkit-text-stroke: 0.31vmin black;
        display: none;
        pointer-events: none;
    "
>
    ROUND 1
</div>

<div 
    id="youWin"
    style="
        position: absolute; 
        top: 0; 
        bottom: 0; 
        left: 0; 
        right: 0; 
        display: none; 
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.9);
    "
>
    <h1 style="
        font-size: 7.5vmin;
        color: gold;
        margin-bottom: 1.5vmin;
        -webkit-text-stroke: 0.31vmin black;
    ">
        YOU WIN!
    </h1>
    <p style="
        font-size: 3.75vmin;
        color: white;
        margin-bottom: 2.3vmin;
        -webkit-text-stroke: 0.15vmin black;
    ">
        All waves defeated!
    </p>
    <button 
        id="tryAgainWin"
        style="
            font-family: 'Changa One', cursive;
            font-size: 2.8vmin;
            padding: 1.5vmin 4.6vmin;
            background: linear-gradient(to bottom, #4CAF50, #2E7D32);
            color: white;
            border: 0.3vmin solid white;
            border-radius: 0.78vmin;
            cursor: pointer;
            -webkit-text-stroke: 1px black;
        "
    >
        PLAY AGAIN
    </button>
</div>
        <div
        style="
        position: absolute; 
        top: 0.5%; 
        right:0.6%; 
        color:white; 
        font-size: 2.8vmin; 
        -webkit-text-stroke: 0.15vmin black;
        display: flex;
        align-items: center;
        "
        >
        <div style="display: flex; align-items: center; margin-right: 0.78vmin">
        <svg 
        style="width: 1.95vmin; color: gold; margin-right: 0.31vmin;"
        xmlns="http://www.w3.org/2000/svg" 
        viewBox="0 0 512 512"
        fill="currentColor"
        >
        <!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2026 Fonticons, Inc.--><path d="M192 160L192 144C192 99.8 278 64 384 64C490 64 576 99.8 576 144L576 160C576 190.6 534.7 217.2 474 230.7C471.6 227.9 469.1 225.2 466.6 222.7C451.1 207.4 431.1 195.8 410.2 187.2C368.3 169.7 313.7 160.1 256 160.1C234.1 160.1 212.7 161.5 192.2 164.2C192 162.9 192 161.5 192 160.1zM496 417L496 370.8C511.1 366.9 525.3 362.3 538.2 356.9C551.4 351.4 564.3 344.7 576 336.6L576 352C576 378.8 544.5 402.5 496 417zM496 321L496 288C496 283.5 495.6 279.2 495 275C510.5 271.1 525 266.4 538.2 260.8C551.4 255.2 564.3 248.6 576 240.5L576 255.9C576 282.7 544.5 306.4 496 320.9zM64 304L64 288C64 243.8 150 208 256 208C362 208 448 243.8 448 288L448 304C448 348.2 362 384 256 384C150 384 64 348.2 64 304zM448 400C448 444.2 362 480 256 480C150 480 64 444.2 64 400L64 384.6C75.6 392.7 88.5 399.3 101.8 404.9C143.7 422.4 198.3 432 256 432C313.7 432 368.3 422.3 410.2 404.9C423.4 399.4 436.3 392.7 448 384.6L448 400zM448 480.6L448 496C448 540.2 362 576 256 576C150 576 64 540.2 64 496L64 480.6C75.6 488.7 88.5 495.3 101.8 500.9C143.7 518.4 198.3 528 256 528C313.7 528 368.3 518.3 410.2 500.9C423.4 495.4 436.3 488.7 448 480.6z"
            />
        </svg>
       
        <div id="coins">100</div>
        </div>
    <!-- hearts -->
    <div style="display: flex; align-items: center">
        <svg
        style="width: 1.95vmin; color: red; margin-right: 0.39vmin;"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 20 20"
        fill="currentColor"
        >  
    <path
    fill-rule="evenodd"
    d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 
    115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"
    clip-rule="evenodd"
    />
    </svg>
    <div id="hearts">10</div>
    </div>
    </div>
    </div>

<!--Tower Menu-->
       <div id="towerMenu" style="
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    display: none;
    flex-direction: row;
    gap: 15px;
    background: rgba(0, 0, 0, 0.8);
    padding: 15px;
    border-radius: 10px;
    border: 3px solid white;
">
    <div class="tower-option" data-type="rock" style="
        width: 100px;
        padding: 10px;
        background: linear-gradient(to bottom, #4CAF50, #2E7D32);
        border: 3px solid white;
        border-radius: 8px;
        cursor: pointer;
        text-align: center;
        color: white;
        font-size: 14px;
    ">
        <div style="font-weight: bold; margin-bottom: 5px;">Rock</div>
        <div style="font-size: 12px;">50 coins</div>
        <div style="font-size: 11px; margin-top: 3px;">Balanced</div>
    </div>
    
    <div class="tower-option" data-type="sniper" style="
        width: 100px;
        padding: 10px;
        background: linear-gradient(to bottom, #f44336, #c62828);
        border: 3px solid rgba(255,255,255,0.3);
        border-radius: 8px;
        cursor: pointer;
        text-align: center;
        color: white;
        font-size: 14px;
    ">      
        <div style="font-weight: bold; margin-bottom: 5px;">Sniper</div>
        <div style="font-size: 12px;">75 coins</div>
        <div style="font-size: 11px; margin-top: 3px;">Long Range</div>
    </div>

    <div class="tower-option" data-type="rapid" style="
        width: 100px;
        padding: 10px;
        background: linear-gradient(to bottom, #2196F3, #1565C0);
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-radius: 8px;
        cursor: pointer;
        text-align: center;
        color: white;
        font-size: 14px;    
    ">
        <div style="font-weight: bold; margin-bottom: 5px;">Rapid</div>
        <div style="font-size: 12px;">40 coins</div>
        <div style="font-size: 11px; margin-top: 3px;">Fast Fire</div>
    </div>
</div>

<!-- Fusion Mode Epic Overlay-->
<div id="fusionOverlay" style="
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    display: none;
    z-index: 10;
">
    <div style="
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 4vmin;
        text-align: center;
        -webkit-text-stroke: 0.2vmin black;
        pointer-events: none;
    ">
        Select tower to merge with<br>
        <span style="font-size: 2.5vmin; color: gold;">Cost: 200 coins</span><br>
        <span style="font-size: 2vmin; color: white;">Press ESC to cancel</span>
    </div>
</div>

<!-- Tutorial Overlay-->
 <div id="tutorialOverlay" style ="
 position: absolute;
 top: 0;
 left: 0;
 right: 0;
 bottom: 0;
 background: rgba(0, 0, 0, 0.85);
 display: none;
 z-index: 20;
 align-items: center;
 justify-content: center;
 ">
    <div style="
    max-width: 800px;
    padding: 40px;
    background: rgba(20, 20, 20, 0.95);
    border: 4px solid gold;
    border-radius: 15px;
    color: white;
    text-align: center;
">
  
</div>



<!-- Background Music-->
 <audio id="bgMusic" loop>  
    <source src="Age%20of%20War%20-%20Theme%20Soundtrack.mp3" type="audio/mpeg">
 </audio>

 <audio id="hitSound">
    <source src="Hitmarker.mp3" type="audio/mpeg">
 </audio>
 <audio id="shootSound">
    <source src="8-Bit Explosion Sound Effect(3).mp3" type="audio/mpeg">
 </audio>

    <script src="placementTilesData.js"></script>
    <script src="waypoints.js"></script>
    <script src="classes/Sprite.js"></script>
    <script src="classes/Building.js"></script>
    <script src="classes/Enemy.js"></script>
    <script src="classes/PlacementTiles.js"></script>
    <script src="classes/Projectile.js"></script>
    <script src="index.js"></script>
</body>
</html>